# 计算机网络原理

## 第一章 概述

TCP/IP体系结构，自顶向下

### 基本概念

* 定义：计算机网络是**互连**的、**自治**的计算机的集合。
* 协议：网络通信实体之间在数据交换过程中遵循的规则或约定。
协议三要素：**语法**（信息的格式和结构）、**语义**（要发送或包含哪些控制信息，具体含义，信息端如何响应）、**时序**（交互信息的顺序，如何匹配适合彼此的速度）。
* 功能：硬件、软件、信息资源的共享。
* **分类**：
  按覆盖范围：个域网PAN、局域网LAN、城域网MAN、广域网WAN
  按拓扑结构：星形、总线型、环形、网状、树形、混合拓扑
  按交换方式：电报交互、报文交换、分组交换
  按网络用户属性：公用网、私有网

### 结构

* 网络边缘：连接到网络上的所有端系统
* 接入网络：（实现边缘的端系统与核心的连接和接入）

1. 电话拨号
2. 非对称用户数字线 ADSL
3. 混合光纤同轴电缆 HFC
4. 局域网
5. 移动接入网络

* 网络核心：由通信链路互连的分组交换设备构成的网络，实现边缘中主机之间的数据中继与转发

### 数据交换技术

通信子网：交换节点和传输介质的集合，即网络核心。

* 电路交换：通过中间交换阶段为两台主机之间建立一条专用的通信线路（电路），再利用该电路通信，结束后拆除电路。**实时性高**，时延小；对突发性数据传输，**信道利用率低**，传输速率单一。
* *报文交换*：以**报文为单位**，在交换网络各节点之间以**存储-转发**的方式传输。不需建立连接，只有报文被转发时才占用相应的信道，交换结点需要缓冲存储，增加延时。
* 分组交换：将一个完整报文拆分成**若干分组**，分组传输过程采用**存储-转发**的交换方式。交换设备存储容量要求低，交换速度快，可靠传输效率高，更公平。
（分组长度的确定：延迟时间、误码率）

### 性能

* 速率（数据传输速率）：网络单位时间内传送的数据量，bit/s或bps
* 带宽：信号具有的**频带宽度**，信号成分最高和最低频率之差，Hz
* 时延：数据从网络中一个结点到达另一结点所需时间
每跳传输过程产生4类时延：结点处理时延、排队时延、传输时延（发送）、传播时延
* 时延带宽积：一段链路带宽与传播时延的乘积，表示一段链路可以容纳的数据位数，以位为单位的链路长度
* 丢包率：网络的拥塞程度，丢包率=丢失分组总数/发送分组总数
* 吞吐量：单位时间内源主机向目的主机实际送达的数据量。

### 体系结构

定义：计算机网络所划分的层次以及各层协议的集合。
OSI参考模型（七层）：物理层、数据链路层、网络层、传输层、会话层、表示层、应用层
TCP/IP参考模型（四层）：网络接口层、网际层、运输层、应用层
五层参考模型（五层）：物理层、链路层、网络层、传输层、应用层

## 第二章 网络应用

### 网络应用体系结构

* C/S结构：只在客户和服务器之间进行
* P2P结构：每个对等端都可以作为客户或服务器，对等端之间直接通信
* 混合结构：既有中心服务器，又有对等端（客户）间的直接通信

### 网络应用通信基本原理

C/S通信基本原理：服务器端运行服务器进程，被动等待客户请求服务；客户端运行客户进程，主动发起通信，请求服务器进程提供服务。应用进程间遵循应用层**协议**交换应用层报文。

### 域名系统 DNS

* 层次化域名空间
层次树状结构命名方法：
1.国家顶级域名nTLD （cn）
2.通用顶级域名gTLD （com net org edu gov）
3.基础结构域名
* 域名服务器
1.域名解析：将域名映射为IP地址的过程。
2.域名服务器：实现域名解析，建立分布式数据库，存储网络中域名与IP地址的映射关系数据，这些数据库存储在域名服务器上，域名服务器根据用户的请求提供域名解析服务。
3.域名服务器分类：
根域名服务器、顶级域名服务器、权威域名服务器、本地域名服务器
* 域名解析过程：
1.递归查询：代替查询主机或其它域名服务器，进行进一步的域名查询，将最终解析结构发送给查询主机或服务器。
2.迭代查询：只将下一步要查询的服务器告知查询主机或服务器。

### 万维网应用 www

* 结构：浏览器、web服务器、HTTP
* HTTP：
非持久连接：串行方式请求每个对象，每次都新建立TCP连接
并行连接：并行方式请求每个对象，每个请求建立一个TCP连接
非流水方式持久连接、流水方式持久连接：建立一个TCP连接，传输多个对象

1. HTTP请求报文：
请求方法：GET（请求读取URL标识的信息） 、 HEAD（请求读取首部） 、POST（给服务器添加信息） 、OPTION（请求选项信息） 、PUT（在指明的URL下存储一个文档）
2. HTTP响应报文
状态码：
1xx  信息提示（可能需要进一步交互）
2xx  成功
3xx  重定向（资源已移走，要向新URL发请求）
4xx  客户端错误
5xx  服务器端错误

* Cookie 小型文本文件：某些网站为辨别用户身份、进行会话跟踪而存储在用户本地终端的数据。弥补HTTP协议 无状态性的不足，利于进行用户跟踪并提供针对性服务，但也带来安全问题。
cookie工作原理：用户访问网站，服务器端（taobao）生成cookie（ID:56789），发送给浏览器，同时存入数据库；浏览器将cookie保存到某个目录下的文本文件；下次请求同一网站时就发送该cookie给服务器；服务器根据cookie值检索用户历史行为数据，针对性的提供内容。
![cookie工作原理](img/1.jpg)

### Internet电子邮件

* 电子邮件系统结构：邮件服务器、简单邮件传输协议SMTP、用户代理、邮件读取协议
* SMTP：电子邮件中核心应用层协议，实现邮件服务器之间或用户代理到邮件服务器之间的邮件传输。用**TCP**实现可靠传输，端口号25。握手阶段、邮件传输阶段、关闭阶段。
* 电子邮件格式与MIME
邮件包括：首部、空白行、主体。
关键词：To、Subject、Cc、From、Date、Reply-To
MIME（多用途互联网邮件扩展）：将非7位ASCII码文本内容转换为7位ASCII码文本内容，再利用SMTP传输。
在首部添加MIME说明主体内容原本的数据类型及编码标准。
* 邮件读取协议：
POP3（第三版邮局协议）
IMAP（互联网邮件访问协议）
HTTP

### 文件传输协议FTP

在互联网的两个主机间实现文件互传的应用层协议。
C/S模式，采用**控制连接**（21端口）传输控制命令，**数据连接**（20端口）传输文件内容。

### P2P应用

充分聚集利用端系统的计算能力以及网络传输带宽，对服务器依赖小。

### Socket编程基础

Socket接口模型：网络应用进程通信时需要通过API接口请求底层协议的服务。可以创建 数据报类型套接字SOCK_DGRAM（针对UDP不可靠）、流式套接字SOCK_STREAM（针对TCP可靠服务）、原始套接字SOCK_RAW（直接调用网络层服务）。

## 第三章 传输层

### 基本服务

* 传输层功能
核心任务：为应用进程之间提供**端到端的逻辑通信服务**。
主要功能：传输层寻址、应用层报文的分段和重组、报文差错检测、进程间端到端可靠数据传输控制、面向应用层实现复用与分解、端到端的流量控制、拥塞控制。
通信真正端点不是主机，而是主机中运行的应用进程。
* 传输层寻址与端口
用统一的寻址方法对应用进程标识---端口号
全网范围内，用 **IP地址+端口号**唯一标识一个通信端点
端口号为16位整数，三类端口：
1.熟知端口号 0-1023
2.登记端口号，1024-49151，必须在IANA登记
3.客户端口号或短暂端口号，49152-65535，客户进程选择暂时使用
* 无连接服务和面向连接服务
UDP 数据传输前，无需与对端进行如何信息交换（握手），直接构建传输层报文段向接收端发送。
TCP 数据传输前，需要双方交换控制信息，**建立逻辑连接**，再**传输数据**，结束后再**拆除连接**

### 复用和分解

多路复用与多路分解：支持多个应用进程共用同一个传输层协议，并能将接收到的数据准确交付不同应用进程。

* 无连接的多路复用与多路分解
UDP套接字：<目的IP地址，目的端口号>
* 面向连接的多路复用与分解
TCP套接字（标识一条TCP连接）：<源IP地址，源端口号，目的IP地址，目的端口号>

### 停-等协议与滑动窗口协议

* 可靠数据传输基本原理
实现可靠数据传输措施：
1.差错检测：差错编码实现比特差错检测
2.确认：接收方向发送方反馈接收状态
3.重传：发送方重新发送接收方没正确接收的数据
4.序号：确保数据按序提交
5.计时器：解决数据丢失问题
* 停-等协议：每发送一个报文段就停下来等待接收方的确认。
基本工作过程：
1.发送并等待确认
2.接收并确认或否认
3，继续发送或重发
性能问题：降低了信道利用率
解决：流水线协议或管道协议--允许发送方在没收到确认前发送多个分组。
* 滑动窗口协议
回退N步协议GBN
选择重传协议SR

### 用户数据报协议UDP

无连接、不可靠、数据报尽力传输服务。
源和目的端口号：用于UDP实现复用和分解。
长度字段：在UDP报文段中的字节数（首部和数据的总和）
校验和：接收方检测报文段是否出错。

### 传输控制协议TCP

* TCP报文段结构
20字节固定首部：源端口、目的端口、序号、确认号、数据偏移、保留字段、URG ACK PSH SYN FIN 、窗口、校验和、紧急指针、选项、填充

* TCP连接管理
连接建立--三次握手：
1.SYN连接请求  SYN=1,seq=x
2.SYNACK确认   SYN=1,ACK=1,seq=y,ack=x+1
3.ACK确认      ACK=1,seq=x+1,ack=y+1
数据传送
连接断开--四次挥手：(双方都断开)
FIN=1,seq=u
ACK=1,seq=v,ack=u+1
FIN=1,ACK=1,seq=w,ack=u+1
ACK=1,seq=u+1,ack=w+1

* TCP可靠数据传输
基于滑动窗口协议，发送窗口大小动态变化。
1.封装TCP报文段
2.发出一个报文段后启动计时器
3.通过校验和发现数据差错
4.通过序号重新排序，丢弃重复的报文段
5.流量控制

* TCP流量控制
利用窗口机制实现流量控制
连接建立时，双方都分配了固定大小的缓冲空间；接收端只允许另一端发送其缓冲区所能接纳的数据。
1.接收端发送确认段时，通告接收窗口大小；
2.发送端在接收数据段时，确保未确认段的应用层数据总量不超过通告的接收窗口大小。

* TCP拥塞控制
通过调节窗口的大小实现对发送数据速率的调整。
AIMD 加性增加，乘性减小；
慢启动、拥塞避免、快速重传、快速恢复。

## 第四章 网络层

### 网络层服务

作用：将网络层数据报从源主机送达目的主机。
功能：转发、路由选择

### 数据报和虚电路网络

* 数据报网络：按照目的主机地址进行路由选择的网络。
特点：无连接、每个分组独立传送，路径可能不同、分组可能乱序或丢失。
* 虚电路网络：在网络层提供面向连接的分组交换服务。
特点：建立一条网络层逻辑连接；不需要为每条虚电路分配独享资源；根据虚电路号沿虚电路路径按序发送分组。

### 网络互连与设备

* 异构网络互连
异构网络：两个网络的通信技术和运行协议不同。
策略：协议转换、构建虚拟互联网络。
* 路由器
输入端口、交换结构（基于内存，总线，网络交换）、输出端口
路由处理器：执行路由器各种指令，包括路由协议的运行、路由计算、路由表更新维护。

### 网络层拥塞控制

* 网络拥塞
拥塞：一种持续过载的网络状态，用户对网络资源的总需求超过网络固有的容量。
原因：缓冲区容量有限；传输线路带宽有限；网络结点处理能力有限；故障。
* 流量感知路由：根据网络负载动态调整，将网络流量引导到不同链路上，均衡网络负载，延缓或避免拥塞发生。
解决网络负载的震荡现象：多路径路由、缓慢转移流量至另一链路。
* 准入控制：虚电路网络的拥塞预防技术。
对新建虚电路审核。
拥塞状况的量化：基于平均流量和瞬时流量。
* 流量调节
感知拥塞
处理拥塞：将拥塞信息通知上游结点
1.抑制分组：给拥塞数据报的源主机返回抑制分组。
2.背压：让抑制分组在从拥塞结点到源结点路径上的每一跳，都发挥抑制作用。
* 负载脱落：路由器主动丢弃某些数据报。
选择要丢弃的数据报：丢弃新分组（如GBN）、丢弃老分组(实时视频流)。

### Internet网络层

* IPv4协议
IP数据报格式：首部固定20字节，版本、首部长度、区分服务、总长度、标识（判断分片是否属于同一个IP数据报）、标志（判断是否最后一个分片）、片偏移（判断分片先后顺序）、生存时间、协议、首部检验和、源地址、目的地址
* IPv4编址
IPv4地址长度：32位二进制
点分十进制标记法
网络号--主机号
分类地址：A（0-127）、 B（128-191）、 C（192-223）、 D多播（224-239）、 E保留（240-255）
特殊地址、私有地址

子网划分：将大的子网划分为多个较小子网的过程。
超网：将具有较长前缀的相对较小的子网合并为具有稍短前缀的相对较大的子网。
子网掩码：定义一个子网的网络前缀长度。
分组转发：查找转发表，最长前缀匹配
路由聚合：将相同路由的连续子网合并。

* 动态主机配置协议 DHCP
为网络中的主机提供动态IP地址分配服务。
DHCP服务器发现、提供、请求、确认。

* 网络地址转换 NAT
使用私有地址访问互联网。
1.从内网进入互联网的IP数据报：将源IP地址替换为NAT服务器拥有的合法公共IP地址，同时替换源端口号，将替换关系记录NAT转换表；
2.从互联网返回的IP数据报：依据目的IP地址与目的端口号检索NAT转换表，得到内部私有IP地址和端口号，替换目的IP地址和目的端口号，将IP数据报转发到内部网络。

* 互联网控制报文协议 ICMP
在主机或路由器间，实现差错信息报告。
差错报告报文有5种：终点不可达、源点抑制、时间超时、参数问题、路由重定向、
询问报文：回声请求/应答、时间戳请求/应答。

* IPv6
解决IPv4地址耗尽问题，首部长度固定40字节，地址长度128位
IPv4到IPv6迁移：双协议栈  隧道

### 路由算法与路由协议

* 链路状态路由选择算法
全局式，每个路由器通过其它路由器获得的链路状态信息构建出整个网络的拓扑图。
计算最短路径--Dijkstra算法
* 距离向量路由选择算法
每个结点基于其与邻居结点间的直接链路距离，以及邻居交换过来的距离向量，计算更新到达每个目的结点的最短距离，再将新距离向量通告所有邻居。bellman-ford方程
* 层次化路由选择
划分自治系统：
网关路由器
自治系统间路由协议
* Internet路由选择协议
1.内部网关协议
RIP 基于距离向量路由选择算法，跳数为距离度量，最大15跳，没30s交换一次距离向量。
OSPF 基于链路状态路由选择算法。
2.外部网关协议
BGP

## 第五章 数据链路层与局域网

### 数据链路层服务

链路：通信链路连接的相邻结点的通信信道
数据单元：帧     （添加帧头和帧尾）
功能：组帧，链路接入（点对点、广播链路），可靠交付（可靠传输方法多用于高出错率链路），差错控制

### 差错控制

* 基本方式：
检错重发
前向纠错（接收端进行差错纠正）
反馈校验（接收端将数据原封不动发回发送端）
检错丢弃
* 差错编码基本原理
香农信道编码定理：理论上通过编码使得数据传输过程不发送错误，或将错误概率减到很小。
* 差错编码的检错和纠错能力
汉明距离：两个等长码字之间，对应位不同的位数。
编码集的汉明距离：该编码集中任意两个码字间汉明距离最小值。
检错编码：如果编码集的汉明距离ds=r+1,则该差错编码可以检测r位的差错。
纠错编码：如果编码集的汉明距离ds=2r+1,则该差错编码可以纠正r位的差错。
* 典型的差错编码
1.奇偶校验码
2.汉明码 （实现单个比特差错纠正）
3.循环冗余码CRC

### 多路访问控制协议

* 信道划分MAC协议
多路访问控制MAC：广播信道上协调各结点的数据发送。
信道划分MAC协议：
1.频分多路复用（信道带宽划分为多个子信道）
2.时分 （将通信信道的传输信号在时域内划分为多个等长间隙）
3.波分 （一根光纤中，传输多路不同波长的光信号）
4.码分 （编码域划分，编码后的信号在同一信道混合传输）
* 随机访问MAC协议
1.ALOHA协议
纯ALOHA：直接发送->信道侦听->冲突重发
时隙ALOHA：时隙开始时发送->信道侦听->冲突则下一时隙以概率P重发
2.载波监听多路访问协议CSMA
发送前监听信道是否空闲
非坚持CSMA（忙则等待随机时间再侦听）
1-坚持CSMA（忙则持续侦听）
P-坚持CSMA（闲则概率P在最近时隙发送）
3.带冲突检测的载波监听多路访问协议CSMA/CD
监听空闲后发送，发送时检测碰撞，碰撞后等待重发。
* 受控接入MAC协议
集中式控制（轮询技术：轮叫轮询、传递轮询）由一个主机调度其它通信站接入信号，避免冲突。
分散式控制（令牌技术：令牌环网）

### 局域网

* 数据链路层寻址与ARP
1.MAC地址（每个接口对应一个MAC地址，全球唯一，48位）
2.地址解析协议（根据本网内目的主机或默认网关IP地址获取其MAC地址；查询/响应方式）
* 以太网
1.IEEE802.3标准
2.采用CSMA/CD访问控制方法
3.以太网技术（10Base-5、10Base-T）（快速以太网100Base-TX、 100Basw-T4、 100Base-FX）（千兆以太网）（万兆以太网）
* 交换机
1.转发与过滤（根据接收到的帧的目的MAC地址，作为主键，查找交换表，选择性转发到相应端口）
2.自学习（构建交换表）
3.优点（消除冲突，提高性能；支持异质电路；易于网络管理）
* 虚拟局域网 VLAN
基于交换机（支持VLAN功能）的逻辑分割广播域的局域网应用形式。
以软件的方式划分和管理局域网中的工作组。
能够抑制广播风暴。
划分方法：基于交换机端口、基于MAC地址、基于上层协议类型或地址。

### 点对点链路协议

* 点对点协议 PPP
能够处理差错检测、支持多种上层协议、允许连接时协商IP地址、允许身份认证
典型应用：拨号上网
功能：成帧、链路控制协议LCP、网络控制协议NCP
* HDLC协议
高级数据链路控制
可用于点对点和点对多点链路
帧定界符：01111110
位填充：连续5个1，插入或删除0

## 第六章 物理层

### 数据通信基础

* 基本概念
消息：人类能够感知的描述
信息：对事物状态或存在方式的不确定表述，可度量
通信：在一点精确或近似地再生另一点的信息
通信系统：实现通信功能的技术、设备、方法的总体
信号：通信系统中，在传输通道中传播的信息的载体
数据：对客观事物的性质状态及相互关系进行记载的符号及组合
信道：以传输介质为基础的信号通道
* 数据通信系统模型
通信系统构成：信源、发送设备、信道、接收设备、信宿、噪声源。
模拟通信（模拟信号：信号的因变量连续）
数字通信（数字信号：因变量离散）
数字通信方式：
1.单向通信、双向交替通信、双向同时通信（单工、半双工、全双工）
2.并行、串行通信
3.异步、同步通信
数字通信系统功能：信道利用、接口及信号产生、同步、差错检测与纠正、寻址与路由、网络管理、安全保证。

### 物理介质

* 导引型传输介质
1.架空明线
2.双绞线（屏蔽双绞线STP、非屏蔽双绞线UTP）
3.同轴电缆（主要频带传输：有线电视）
4.光纤（光全反射原理，单模、多模光纤）
* 非导引型传输介质
1.地波传播（低频，沿地球表面）
2.天波传播（较高频，利用电离层反射传播）
3.视线传播（高频，点对点直线传播，中继传输）

### 信道与容量

* 信道分类与模型
狭义信道：信号传输介质
广义信道：信号传输介质和通信系统的变换装置
1.调制信号（信号从调制器的输出端到解调器的输入端经过的部分）
2.编码信号（数字信号由编码器输出端到译码器输入端经过的部分）
* 信道传输特性
1.恒惨信道（各种有线和部分无线信道，传输特性变化小缓慢）
2.随参信道（传输特性随时间随机快速变化）
* 信道容量
信道无差错传输信息的最大平均信息速率。
1.连续信道容量（奈奎斯特、香农公式）
2.离散信道容量

### 基带传输

* 基本概念
模拟基带信号：模拟信源发出的原始电信号（通过信源编码转换为数字基带信号）
数字基带信号：数字信源发出的基带信号
基带传输：直接在信道中传送基带信号
信号码型：单极不归零码、双极不归零码、单极归零码、双极归零码、差分码。
* 数字基带传输编码
基带传输码型：
1.AMI码--信号交替反转码  （0零电平，1 交替用正负电平表示）
2.双相码--曼彻斯特码   （正电平跳到负电平表示1，反之0）
3.米勒码
4.CMI码
5.nBmB码
6.nBmT码

### 频带传输

* 基本概念
1.数字调制
2.键控法（两种不同幅值、频率、相位表示0或1）
* 三种调制方式
1.二进制数字调制（频移、幅移、相移、差分相移键控）
2.多进制数字调制
3.正交幅值调制QAM

### 物理层接口规程

接口四大特性：机械特性、电气特性、功能特性、规程特性。
接口规范定义 数据终端设备DTE 和 数据电路端接设备DCE 之间的接口特性。

## 第七章 无线与移动网络

### 无线网络

* 基本结构：无线主机、无线链路、**基站**、网络基础设施、自组织网络（Ad Hoc网络）。
* 无线链路与无线网络特性
无线和有线链路区别：信号强度衰减、干扰、多径传播、隐藏终端。

### 移动网络

* 基本原理
1.不同的移动需求
2.网络层地址保存不变
3.有线基础设施的支持
* 寻址
永久地址 （归属网络分配的 路由器归属代理接收数据，转发到新网络的路由器，即外部代理）
转交地址 （被访网络分配新地址 外部代理将新地址通知归属代理，以便被找到）
=>三角路由
* 移动结点的路由选择
1.间接路由选择：由归属代理转发数据给外部代理。
2.直接路由选择：由通信代理通过归属代理获得转交地址，直接发送到外部代理。

### 无线局域网IEEE 802.11（wifi）

* 体系结构
1.基站AP
2.基本服务集BSS
AP的发现：主动扫描探测帧（手机发送探测帧，其它AP给应答，选一个连接，耗电大）、被动扫描信标帧（AP发送信标帧通告存在，手机选择）
* MAC协议
CSMA/CA--带碰撞避免的CSMA
通过RTS和CTS帧的交换，实现信道的预约占用，避免冲突
* 帧
帧类型：控制帧、数据帧、管理帧
MAC首部：30字节，包括4个地址字段（主要目的地址、源地址、AP地址）

### 蜂窝网络

* 体系结构
基站系统BSS：基站控制器BSC、收发基站
移动交换中心MSC
网关MSC
* 移动性管理
间接路由选择方法
* 移动通信2G（信令和语音信道都是数字式的） 3G（无线通信与互联网等多媒体通信结合） 4G 5G网络

### 移动IP网络（移动互联网）

* 代理发现
1.代理通告（外部或归属代理使用现有的路由器发现协议的拓展协议通告其服务）（周期性地广播类型字段为9的ICMP报文）
2.代理请求（移动结点广播一个代理请求报文，类型值10的ICMP报文）（收到该请求的代理向该移动结点单播一个代理通告）
* 向归属代理注册
移动结点、外部代理向一个移动结点的归属代理注册或注销COA使用的协议。

### 其它无线网络

WiMax（IEEE 802.16 城域网技术）
蓝牙（IEEE 802.15.1 个人区域网）
ZigBee（IEEE 802.15.4 物联网）

## 第八章 网络安全基础

### 概述

* 网络安全通信基本属性：机密性、消息完整性、可访问和可用性、身份认证。
* 网络安全威胁：窃听、插入、假冒、劫持、拒绝服务DoS和分布式拒绝服务DDoS、映射、嗅探、IP欺骗。

### 数据加密

明文：未加密的消息
密文：被加密的消息
加密：伪装消息以隐藏信息的过程，明文转变为密文的过程
解密：密文转变为明文的过程

* 传统加密方式
1.替代密码：用密文字母代替明文字母
（移位密码加密/解密函数）恺撒密码、列置换密码
2.换位密码：按一定规则重新排列明文
* 对称密钥加密
现代密码：
1.对称密钥密码：分组密码（DES AES IDEA）、流密码
（加密和解密密钥相同k，密钥保密）
2.非对称密钥密码
（加密和解密密钥不同Pk Sk，其中一个密钥可公开：公钥，另一个保密：私钥）
DES：56位密钥，64位分组
三重DES：用两个密钥（共112位），执行三次DES算法
AES：分组128位，密钥128/192/256位
IDEA：分组64位，密钥128位
* 非对称/公开密钥加密
密钥成对使用，一个加密，一个解密，且加密密钥可公开（公开密钥加密）
典型公钥算法：Diffie-Hellman算法、RSA算法

### 消息完整性与数字签名

* 消息完整性检测
密码散列函数
1.特性：定长输出、单向性（无法根据散列值逆推报文）、抗碰撞性（无法找到相同散列值的两个报文）
2.典型散列函数
MD5：128位散列值
SHA-1：160位散列值
* 报文认证
使消息的接收者能够检验收到的消息是否真实。来源真实、未被篡改。
1.报文摘要（数字指纹）
2.报文认证：简单报文认证（仅使用报文摘要，无法验证来源真实性）、报文认证码（使用共享认证密钥，无法防止对方篡改）
* 数字签名
身份认证、数据完整性、不可否认性
1.简单数字签名（直接对报文签名）
2.签名报文摘要

### 身份验证

口令：会被窃听
加密口令：可能遭受回放（重放）攻击
加密一次性随机数：可能遭受中间人攻击

### 密钥分发中心与证书认证

* 密钥分发中心
基于KDC的密钥生成和分发
* 证书认证机构
认证中心CA：将公钥与特定的实体绑定
1.证实一个实体的真实身份
2.为实体颁发数字证书（实体身份和公钥绑定）

### 防火墙与入侵检测系统

* 防火墙基本概念
防火墙：能够隔离组织内部网络与公共互联网，允许部分分组通过，组织其它分组进入或离开内部网络的软件、硬件或软硬结合的一种措施。
前提：从外部到内部和从内部到外部的所有流量都经过防火墙。
* 防火墙分类
1.无状态分组过滤器（基于特定规则决定通过还是丢弃，使用访问控制列表ACL实现防火墙规则）
2.有状态分组过滤器（跟踪每个TCP连接建立、拆除，根据状态确定是否允许分组通过）
3.应用网关（鉴别用户身份或针对授权用户开放特定服务）
* 入侵检测系统 IDS：当观察到潜在的恶意流量时，能够产生警告的设备或系统。

### 网络安全协议

* 安全电子邮件
电子邮件安全需求：机密性、完整性、身份认证性、抗抵赖性
安全电子邮件标准：PGP
* 安全套接字层SSL
应用层和传输层之间的安全协议
SSL协议栈：SSL握手协议、SSL更改密码协议、SSL警告协议、SSL记录协议、TCP、IP
SSL握手过程：协商密码组，生成密钥，服务器/客户认证与鉴别
* 虚拟专用网VPN 和IP安全协议IPSeq
VPN：建立在公共网络上的安全通道，实现远程用户、分支机构、业务伙伴等与机构总部网络的安全连接，构建针对特定组织机构的专用网络。
关键技术：隧道技术(IPSeq)
IPSeq：提供机密性、身份鉴别、数据完整性验证、防重放攻击服务。
体系结构：认证头AH协议、封装安全载荷ESP协议。
运行模式：传输模式（AH传输模式、ESP传输模式）、隧道模式（AH隧道模式、ESP隧道模式）
