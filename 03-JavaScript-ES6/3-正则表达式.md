# 正则表达式 Regular Expression

由 普通字符 和 特殊字符（元字符）组成的文字模式。
正则表达式作为一个模板，将某个字符模式与所搜索的字符串进行匹配。

```javascript
输入3-15个字符的用户名，只能包含字母、数字、下划线_、连接符-
^[a-z0-9_-]{3,15}$

^:匹配字符串的开始位置
$:匹配字符串的结束位置
```

* 优点：
   测试字符串内的模式（数据验证）
   替换文本
   基于模式匹配从字符串中提取子字符串

## 语法

```javascript
1. 普通字符
没有显式指定为元字符，大小写字母、数字、标点符号等。
[ABC]     匹配[]中的所有字符
[^ABC]    匹配除了[]中的所有字符
[A-Z]     区间，匹配A-Z的所有字符
.         匹配除了换行符之外的单个字符，相当于[^\n\r]
[\s\S]    匹配所有。\s匹配所有空白符，\S匹配所有非空白符
\w        匹配大小写字母、数字、下划线，相当于[A-Za-z0-9_]
​\d        匹配单个数字字符，相当于[0-9]

2. 非打印字符
\f    换页符
\n    换行符
\r    回车符
\s    空白字符
\S    非空白符
\t    制表符

3. 特殊字符
$    匹配输入字符串的结尾位置
()   标记子表达式的开始和结束位置
*    匹配前面的子表达式0或1或多次
+    匹配前面的子表达式1或多次
.    匹配除了换行符\n之外的单个字符
[    标记中括号表达式开始
?    匹配前面的子表达式0或1次
\    将下一个字符标记为特殊或原义字符、向后引用、八进制转义符
^    匹配输入字符串的开始位置，中括号[^]内表示逻辑非
{    标记限定符的开始
|    逻辑或

4. 限定符
指定正则表达式的一个给定组件要出现多少次才满足匹配。
*        匹配前面子表达式0或多次。等价于{0,}
+        匹配前面子表达式1或多次。等价于{1,}
？       匹配前面子表达式0或1次。等价于{0,1}
{n}      匹配确定的n次，n>=0。
{n,}     至少匹配n次，n>=0。
{n,m}    最少匹配n次且最多匹配m次。 // 逗号左右不能空格!!

* 和 + 限定符都是贪婪的，因为它们会尽可能多的匹配文字。在它们的后面加上一个 ? 就可以实现非贪婪或最小匹配。

5. 定位符
定位符用来描述字符串或单词的边界。单词边界是单词和空格之间的位置。非单词边界是任何其他位置。
^     指字符串的开始
$     指字符串的结束
\b    描述单词的前或后边界
\B    表示非单词边界，/\Bapt/ 匹配apt在中间的字符串，如chapter

// 不能将限定符与定位符一起使用
```

## 修饰符（标记）

指定额外的匹配策略。写在表达式之外。
i    搜索时不区分大小写
g    全局匹配，查找所有匹配项
m    多行匹配

## JavaScript 正则表达式

语法： /正则表达式主体/修饰符(可选)

* 使用字符串方法
search()   检索与正则表达式相匹配的子字符串，并返回子串的起始位置。
replace()  替换一个与正则表达式匹配的子串。

```javascript
var str = "Visit Runoob!"; 
var n = str.search(/runoob/i);   //使用正则表达式搜索
var n = str.search("Runoob");    //使用字符串作为参数，字符串参数会转换为正则表达式

<p id="demo">Visit Microsoft!</p>
var str = document.getElementById("demo").innerHTML; 
var txt = str.replace(/microsoft/i,"Runoob");
var txt = str.replace("Microsoft","Runoob");

* 使用RegExp对象

test(): 验证指定的字符串是否匹配某个模式，返回true false

//创建：
var reg = new RegExp("正则表达式");
var reg2 = /正则表达式/;

// 字符串长度在6~12内，可以由大小写字母，数字，下划线组成
var reg = new RegExp("^\w{6,12}$");  
var reg2 = /^\w{6,12}$/;  

var flag = reg2.test(username);
alert(flag);     // true

/e/.test("The best things in life are free!")  //字符串中有e，所以返回true

exec(): 检索字符串中的正则表达式的匹配，返回数组接收匹配的结果或null
```
